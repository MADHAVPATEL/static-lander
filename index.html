
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Meta -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta -->
    <title>Page Title Here</title>
    <meta name="description" content="Short page description goes here">
    <meta name="keywords" content="keyword1, keyword2">
    <meta name="author" content="Your Brand Name">

    <!-- Open Graph (Social Sharing) -->
    <meta property="og:title" content="Page Title Here">
    <meta property="og:description" content="Short page description goes here">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/">
    <meta property="og:image" content="https://example.com/og-image.jpg">

    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/style.css">

    <!-- Optional: Tailwind CDN (remove if not needed) -->
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
</head>

<body>

    <!-- ================= HEADER ================= -->
    <header id="site-header">
        <div class="container">
            <a href="/" class="logo">Brand Logo</a>

            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/services">Services</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- ================= MAIN ================= -->
    <main id="content">

        <!-- Hero Section -->
        <section class="section hero">
            <div class="container">
                <h1>Main Page Heading (H1)</h1>
                <p>Short supporting paragraph explaining the value.</p>
                <a href="https://clickgenie-ingest.madhav-a61.workers.dev/click" class="btn-primary">Call to Action</a>
            </div>
        </section>

        <!-- Content Section -->
        <section class="section">
            <div class="container">
                <h2>Section Heading (H2)</h2>
                <p>
                    This is a paragraph of content. You can replace this with
                    AI-generated or manual content.
                </p>
            </div>
        </section>

        <!-- CTA Section -->
        <section id="cta" class="section cta">
            <div class="container">
                <h2>Ready to Get Started?</h2>
                <a href="/contact" class="btn-secondary">Contact Us</a>
            </div>
        </section>

    </main>

    <!-- ================= FOOTER ================= -->
    <footer id="site-footer">
        <div class="container">
            <p>&copy; <span id="year"></span> Your Brand Name. All rights reserved.</p>
        </div>
    </footer>

    <!-- ================= SCRIPTS ================= -->
    <script>
        // Auto update year
        document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <!-- Optional JS -->
    <script src="/assets/js/main.js"></script>

<script>
    (function () {
        // 1. Get Params from URL
        const urlParams = new URLSearchParams(window.location.search);
        const clickId = urlParams.get('click_id');
        const flowId = urlParams.get('flow_id');
        const prevStep = urlParams.get('prev_step');
        // 2. Fallback to LocalStorage (Hybrid Approach)
        if (clickId) {
            localStorage.setItem('cg_click_id', clickId);
            if (flowId) localStorage.setItem('cg_flow_id', flowId);
            if (prevStep) localStorage.setItem('cg_prev_step', prevStep);
        } else {
            // Try to resurrect from storage if URL is clean
            const storedClickId = localStorage.getItem('cg_click_id');
            if (storedClickId) {
                console.log("Resurrecting Click ID from Storage:", storedClickId);
                // Re-populate variables
                // (Note: To be truly robust, you'd use these. For now we assume URL is primary)
            }
        }
        // 3. Append to all Action Links
        // Change this domain to your actual tracker domain
        const ACTION_DOMAIN = "clickgenie-ingest.madhavpatel.workers.dev"; // your worker
        document.addEventListener("DOMContentLoaded", function () {
            const links = document.querySelectorAll('a');
            links.forEach(link => {
                if (link.href.includes('/click') || link.href.includes(ACTION_DOMAIN)) {
                    const currentUrl = new URL(link.href);
                    if (clickId) currentUrl.searchParams.set('click_id', clickId);
                    if (flowId) currentUrl.searchParams.set('flow_id', flowId);
                    if (prevStep) currentUrl.searchParams.set('prev_step', prevStep); // Passing current lander ID as prev_step
                    link.href = currentUrl.toString();
                }
            });
        });
    })();
</script>
</body>
</html>
